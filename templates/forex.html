<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JAYDAWOLFX ‚Äî FOREX TERMINAL</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --bg:#080c0f;
  --surface:#0d1318;
  --surface2:#121920;
  --border:#2a3f52;
  --green:#00ff99;
  --cyan:#33ddff;
  --gold:#ffd700;
  --red:#ff3355;
  --purple:#bb44ff;
  --text:#ffffff;
  --text-mid:#aabbcc;
  --text-dim:#4a6a7a;
  --mono:'Share Tech Mono',monospace;
  --head:'Orbitron',monospace;
}
html,body{height:100%;overflow:hidden;}
body{background:var(--bg);color:var(--text);font-family:var(--mono);display:flex;flex-direction:column;}
body::after{content:'';position:fixed;inset:0;pointer-events:none;z-index:9999;background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,255,153,0.008) 3px,rgba(0,255,153,0.008) 4px);}
body::before{content:'';position:fixed;inset:0;pointer-events:none;z-index:0;background-image:linear-gradient(rgba(0,255,153,0.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,255,153,0.03) 1px,transparent 1px);background-size:50px 50px;}

/* NAV */
.nav{position:relative;z-index:100;height:54px;min-height:54px;background:rgba(8,12,15,0.97);border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 20px;gap:16px;backdrop-filter:blur(12px);}
.logo{font-family:var(--head);font-size:14px;font-weight:900;color:var(--green);letter-spacing:3px;text-shadow:0 0 20px rgba(0,255,153,0.6);white-space:nowrap;}
.logo span{color:var(--cyan);}
.nav-tabs{display:flex;gap:2px;flex:1;}
.ntab{padding:6px 14px;font-family:var(--mono);font-size:10px;letter-spacing:2px;color:var(--text-dim);background:transparent;border:1px solid transparent;border-radius:3px;cursor:pointer;transition:all 0.2s;text-decoration:none;white-space:nowrap;}
.ntab:hover{color:var(--text-mid);border-color:var(--border);}
.ntab.active{color:var(--cyan);border-color:var(--border);background:rgba(51,221,255,0.05);}
.nav-right{display:flex;align-items:center;gap:12px;margin-left:auto;}
.clock{font-size:11px;color:var(--text-mid);letter-spacing:1px;}
.sess-pill{padding:3px 10px;border-radius:20px;font-size:9px;letter-spacing:2px;font-weight:bold;}
.s-london{background:rgba(51,221,255,0.1);border:1px solid rgba(51,221,255,0.3);color:var(--cyan);}
.s-ny{background:rgba(0,255,153,0.1);border:1px solid rgba(0,255,153,0.3);color:var(--green);}
.s-tokyo{background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.3);color:var(--gold);}
.s-closed{background:rgba(255,51,85,0.1);border:1px solid rgba(255,51,85,0.3);color:var(--red);}
.logout-a{font-size:10px;color:var(--text-dim);letter-spacing:1px;text-decoration:none;padding:4px 10px;border:1px solid var(--border);border-radius:3px;transition:all 0.2s;}
.logout-a:hover{color:var(--red);border-color:var(--red);}

/* TICKER */
.ticker-bar{height:30px;min-height:30px;background:var(--surface);border-bottom:1px solid var(--border);overflow:hidden;display:flex;align-items:center;position:relative;z-index:10;}
.ticker-inner{display:inline-flex;animation:tickMove 50s linear infinite;white-space:nowrap;}
@keyframes tickMove{from{transform:translateX(100vw);}to{transform:translateX(-100%);}}
.tick{padding:0 22px;font-size:11px;border-right:1px solid var(--border);display:flex;align-items:center;gap:8px;}
.tp-name{color:var(--text-mid);letter-spacing:1px;}
.tp-price{color:var(--text);}
.tp-chg.up{color:var(--green);}
.tp-chg.dn{color:var(--red);}

/* WORKSPACE */
.workspace{flex:1;overflow:hidden;display:flex;position:relative;z-index:1;}

/* SIDEBAR */
.sidebar{width:280px;min-width:280px;background:var(--surface);border-right:1px solid var(--border);display:flex;flex-direction:column;overflow-y:auto;}
.sidebar::-webkit-scrollbar{width:3px;}
.sidebar::-webkit-scrollbar-thumb{background:var(--border);}
.sb-sec{border-bottom:1px solid var(--border);padding:14px;}
.sb-lbl{font-size:8px;letter-spacing:3px;color:var(--text-dim);margin-bottom:10px;display:flex;align-items:center;gap:8px;}
.sb-lbl::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,var(--border),transparent);}

/* Pair buttons */
.pair-grid{display:grid;grid-template-columns:1fr 1fr;gap:5px;margin-bottom:9px;}
.pb{padding:7px 4px;background:var(--surface2);border:1px solid var(--border);border-radius:3px;color:var(--text-dim);font-family:var(--mono);font-size:10px;letter-spacing:1px;cursor:pointer;transition:all 0.15s;text-align:center;}
.pb:hover{border-color:var(--cyan);color:var(--text-mid);}
.pb.active{background:rgba(0,255,153,0.08);border-color:var(--green);color:var(--green);}
.row{display:flex;gap:6px;}
input,select{background:var(--surface2);border:1px solid var(--border);border-radius:3px;color:var(--text);font-family:var(--mono);font-size:11px;padding:7px 10px;outline:none;transition:border-color 0.2s;width:100%;}
input:focus,select:focus{border-color:var(--cyan);}
input::placeholder{color:var(--text-dim);}
.go-btn{padding:7px 12px;background:rgba(51,221,255,0.08);border:1px solid var(--border);border-radius:3px;color:var(--cyan);font-family:var(--mono);font-size:10px;cursor:pointer;white-space:nowrap;transition:all 0.2s;}
.go-btn:hover{background:rgba(51,221,255,0.15);}

/* Price card */
.price-card{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:12px;text-align:center;margin-bottom:8px;}
.pc-pair{font-family:var(--head);font-size:10px;color:var(--text-dim);letter-spacing:3px;margin-bottom:4px;}
.pc-price{font-family:var(--head);font-size:26px;font-weight:900;letter-spacing:2px;line-height:1;}
.pc-price.up{color:var(--green);text-shadow:0 0 20px rgba(0,255,153,0.4);}
.pc-price.dn{color:var(--red);text-shadow:0 0 20px rgba(255,51,85,0.4);}
.pc-chg{font-size:11px;margin-top:5px;}
.pc-chg.up{color:var(--green);}
.pc-chg.dn{color:var(--red);}
.pstats{display:grid;grid-template-columns:1fr 1fr;gap:5px;margin-top:8px;}
.ps{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:6px;text-align:center;}
.ps-l{font-size:8px;letter-spacing:2px;color:var(--text-dim);margin-bottom:2px;}
.ps-v{font-size:11px;color:var(--text-mid);}

/* Signal */
.sig-card{border-radius:4px;padding:13px;text-align:center;border:2px solid;position:relative;overflow:hidden;margin-bottom:8px;}
.sig-card::before{content:'';position:absolute;inset:0;opacity:0.05;}
.sig-buy{border-color:var(--green);background:rgba(0,255,153,0.02);}
.sig-buy::before{background:var(--green);}
.sig-sell{border-color:var(--red);background:rgba(255,51,85,0.02);}
.sig-sell::before{background:var(--red);}
.sig-neutral{border-color:var(--gold);background:rgba(255,215,0,0.02);}
.sig-neutral::before{background:var(--gold);}
.sc-lbl{font-size:8px;letter-spacing:3px;color:var(--text-dim);margin-bottom:5px;}
.sc-val{font-family:var(--head);font-size:22px;font-weight:900;letter-spacing:4px;}
.sig-buy .sc-val{color:var(--green);text-shadow:0 0 15px rgba(0,255,153,0.5);}
.sig-sell .sc-val{color:var(--red);text-shadow:0 0 15px rgba(255,51,85,0.5);}
.sig-neutral .sc-val{color:var(--gold);}
.sc-conf{font-size:10px;color:var(--text-dim);margin-top:4px;}

/* Levels */
.lvl-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:5px;margin-bottom:5px;}
.lv{background:var(--surface2);border:1px solid var(--border);border-radius:3px;padding:7px;text-align:center;}
.lv-l{font-size:7px;letter-spacing:2px;color:var(--text-dim);margin-bottom:3px;}
.lv-v{font-size:11px;}
.lv-entry .lv-v{color:var(--cyan);}
.lv-tp .lv-v{color:var(--green);}
.lv-sl .lv-v{color:var(--red);}
.lv-rr .lv-v{color:var(--gold);}

/* Analyze button */
.analyze-btn{width:100%;padding:13px;background:linear-gradient(135deg,rgba(0,255,153,0.1),rgba(51,221,255,0.1));border:1px solid var(--green);border-radius:4px;color:var(--green);font-family:var(--head);font-size:11px;font-weight:700;letter-spacing:3px;cursor:pointer;transition:all 0.3s;}
.analyze-btn:hover{box-shadow:0 0 25px rgba(0,255,153,0.2);transform:translateY(-1px);}
.analyze-btn:disabled{opacity:0.4;cursor:not-allowed;transform:none;}

/* MAIN */
.main-area{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.tab-bar{background:var(--surface);border-bottom:1px solid var(--border);display:flex;padding:0 20px;flex-shrink:0;}
.tab-btn{padding:12px 16px;font-family:var(--mono);font-size:10px;letter-spacing:2px;color:var(--text-dim);background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:all 0.2s;margin-bottom:-1px;white-space:nowrap;}
.tab-btn:hover{color:var(--text-mid);}
.tab-btn.active{color:var(--cyan);border-bottom-color:var(--cyan);}
.tab-pane{display:none;flex:1;overflow-y:auto;padding:20px;}
.tab-pane.active{display:block;}
.tab-pane::-webkit-scrollbar{width:4px;}
.tab-pane::-webkit-scrollbar-thumb{background:var(--border);}

/* Panels */
.panel{background:var(--surface);border:1px solid var(--border);border-radius:4px;padding:18px;margin-bottom:14px;}
.ph{font-family:var(--head);font-size:9px;letter-spacing:3px;color:var(--cyan);margin-bottom:14px;display:flex;align-items:center;gap:8px;}
.ph::before{content:'';width:3px;height:12px;background:var(--cyan);border-radius:1px;box-shadow:0 0 8px var(--cyan);}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px;}

/* AI output */
.ai-out{font-size:12px;line-height:1.9;color:var(--text-mid);min-height:160px;}
.hl-g{color:var(--green);}
.hl-r{color:var(--red);}
.hl-gold{color:var(--gold);}
.hl-c{color:var(--cyan);font-size:10px;letter-spacing:2px;}

/* Timeframe rows */
.tf-row{display:grid;grid-template-columns:65px 68px 1fr 55px;align-items:center;gap:10px;padding:9px 12px;background:var(--surface2);border:1px solid var(--border);border-radius:3px;margin-bottom:5px;}
.tf-nm{font-size:10px;color:var(--text-dim);letter-spacing:2px;}
.tf-sg{font-size:10px;letter-spacing:1px;font-weight:bold;padding:3px 7px;border-radius:2px;text-align:center;}
.tf-sg.buy{background:rgba(0,255,153,0.1);color:var(--green);}
.tf-sg.sell{background:rgba(255,51,85,0.1);color:var(--red);}
.tf-sg.neutral{background:rgba(255,215,0,0.1);color:var(--gold);}
.tf-ds{font-size:10px;color:var(--text-mid);line-height:1.4;}
.tf-st{font-size:10px;color:var(--text-dim);text-align:right;}

/* Indicators */
.ind-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.ind{background:var(--surface2);border:1px solid var(--border);border-radius:3px;padding:10px;}
.ind-nm{font-size:8px;letter-spacing:2px;color:var(--text-dim);margin-bottom:3px;}
.ind-vl{font-size:13px;color:var(--text);margin-bottom:2px;}
.ind-sg{font-size:9px;letter-spacing:1px;}
.bull{color:var(--green);}
.bear{color:var(--red);}
.neut{color:var(--gold);}

/* News */
.news-item{padding:11px 0;border-bottom:1px solid var(--border);}
.news-item:last-child{border:none;}
.ni-meta{display:flex;align-items:center;gap:8px;margin-bottom:5px;}
.ni-time{font-size:9px;color:var(--cyan);letter-spacing:1px;}
.ni-imp{font-size:8px;letter-spacing:1px;padding:2px 7px;border-radius:2px;}
.imp-h{background:rgba(255,51,85,0.1);color:var(--red);border:1px solid rgba(255,51,85,0.2);}
.imp-m{background:rgba(255,215,0,0.1);color:var(--gold);border:1px solid rgba(255,215,0,0.2);}
.imp-l{background:rgba(51,221,255,0.1);color:var(--cyan);border:1px solid rgba(51,221,255,0.2);}
.ni-title{font-size:12px;color:var(--text);line-height:1.4;}
.ni-body{font-size:11px;color:var(--text-dim);margin-top:4px;line-height:1.5;}

/* Pick cards */
.pick-card{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:14px;margin-bottom:10px;position:relative;overflow:hidden;transition:border-color 0.2s;}
.pick-card:hover{border-color:var(--border);}
.pick-card::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;}
.pk-buy::before{background:var(--green);}
.pk-sell::before{background:var(--red);}
.pk-top{display:flex;align-items:center;gap:10px;margin-bottom:10px;flex-wrap:wrap;}
.pk-pair{font-family:var(--head);font-size:13px;font-weight:700;color:var(--text);}
.pk-dir{font-size:9px;letter-spacing:2px;font-weight:bold;padding:3px 8px;border-radius:2px;}
.dir-buy{background:rgba(0,255,153,0.1);color:var(--green);}
.dir-sell{background:rgba(255,51,85,0.1);color:var(--red);}
.pk-conf{margin-left:auto;font-size:10px;color:var(--text-dim);}
.type-badge{font-size:8px;letter-spacing:1px;padding:2px 7px;border-radius:2px;background:rgba(187,68,255,0.1);border:1px solid rgba(187,68,255,0.2);color:var(--purple);}
.pk-lvls{display:grid;grid-template-columns:repeat(5,1fr);gap:5px;margin-bottom:10px;}
.pl{background:var(--surface);border:1px solid var(--border);border-radius:3px;padding:6px;text-align:center;}
.pl-l{font-size:7px;letter-spacing:1px;color:var(--text-dim);margin-bottom:2px;}
.pl-v{font-size:11px;color:var(--text);}
.pk-reason{font-size:12px;color:var(--text-mid);line-height:1.7;margin-bottom:8px;}
.pk-actions{display:flex;gap:8px;}
.pa-btn{padding:6px 14px;font-family:var(--mono);font-size:9px;letter-spacing:1px;border-radius:3px;cursor:pointer;transition:all 0.2s;border:1px solid;}
.pa-log{background:rgba(0,255,153,0.08);border-color:var(--green);color:var(--green);}
.pa-log:hover{background:rgba(0,255,153,0.15);}
.pa-skip{background:transparent;border-color:var(--border);color:var(--text-dim);}
.pa-skip:hover{border-color:var(--border);color:var(--text-mid);}

/* Tracker */
.tracker-stats{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-bottom:14px;}
.stat-box{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:12px;text-align:center;}
.stat-l{font-size:8px;letter-spacing:2px;color:var(--text-dim);margin-bottom:5px;}
.stat-v{font-family:var(--head);font-size:20px;font-weight:700;}
.st-total .stat-v{color:var(--text);}
.st-wins .stat-v{color:var(--green);}
.st-losses .stat-v{color:var(--red);}
.st-rate .stat-v{color:var(--cyan);}
.st-pips .stat-v{color:var(--gold);}
.log-form{background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:16px;margin-bottom:14px;}
.fg{display:flex;flex-direction:column;gap:5px;}
.fl{font-size:8px;letter-spacing:2px;color:var(--text-dim);}
.form-grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:10px;margin-bottom:10px;}
.submit-btn{padding:10px 20px;background:rgba(51,221,255,0.08);border:1px solid var(--cyan);border-radius:3px;color:var(--cyan);font-family:var(--mono);font-size:10px;letter-spacing:2px;cursor:pointer;transition:all 0.2s;}
.submit-btn:hover{background:rgba(51,221,255,0.15);}
.trade-table{width:100%;border-collapse:collapse;font-size:11px;}
.trade-table th{font-size:8px;letter-spacing:2px;color:var(--text-dim);padding:8px 10px;border-bottom:1px solid var(--border);text-align:left;font-weight:normal;}
.trade-table td{padding:8px 10px;border-bottom:1px solid var(--border);color:var(--text-mid);}
.trade-table tr:hover td{background:var(--surface2);}
.td-win{color:var(--green);}
.td-loss{color:var(--red);}
.td-pend{color:var(--gold);}

/* How to */
.ht-title{font-family:var(--head);font-size:9px;letter-spacing:2px;color:var(--cyan);margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid var(--border);}
.ht-step{display:flex;gap:12px;align-items:flex-start;margin-bottom:9px;font-size:12px;line-height:1.7;color:var(--text-mid);}
.sn{min-width:24px;height:24px;border-radius:50%;background:rgba(0,255,153,0.08);border:1px solid rgba(0,255,153,0.3);display:flex;align-items:center;justify-content:center;font-size:10px;color:var(--green);flex-shrink:0;}

/* Loading */
.spinner{width:18px;height:18px;border:2px solid var(--border);border-top-color:var(--green);border-radius:50%;animation:spin 0.7s linear infinite;display:inline-block;}
@keyframes spin{to{transform:rotate(360deg);}}
.load-ctr{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:12px;}
.load-txt{font-size:10px;color:var(--green);letter-spacing:3px;animation:fp 1.5s ease-in-out infinite;}
@keyframes fp{0%,100%{opacity:1;}50%{opacity:0.3;}}
.dot{width:5px;height:5px;background:var(--green);border-radius:50%;display:inline-block;box-shadow:0 0 6px var(--green);animation:dp 1.5s ease-in-out infinite;}
@keyframes dp{0%,100%{opacity:1;}50%{opacity:0.3;}}
.empty{text-align:center;padding:28px;font-size:11px;color:var(--text-dim);letter-spacing:1px;}
.big-btn{width:100%;padding:13px;border-radius:4px;font-family:var(--head);font-size:11px;font-weight:700;letter-spacing:3px;cursor:pointer;transition:all 0.3s;border:1px solid;}
.big-btn:hover{transform:translateY(-1px);}
.big-btn:disabled{opacity:0.4;cursor:not-allowed;transform:none;}
.btn-day{background:rgba(51,221,255,0.06);border-color:var(--cyan);color:var(--cyan);}
.btn-swing{background:rgba(187,68,255,0.06);border-color:var(--purple);color:var(--purple);}
</style>
</head>
<body>

<nav class="nav">
  <div class="logo">üê∫ JAYDAWOLFX <span>FOREX</span></div>
  <div class="nav-tabs">
    <a href="/" class="ntab">STOCK TERMINAL</a>
    <a href="/forex" class="ntab active">FOREX TERMINAL</a>
    <a href="/wolf-elite" class="ntab">WOLF PICKS</a>
    <a href="/pricing" class="ntab">PLANS</a>
  </div>
  <div class="nav-right">
    <span class="dot"></span>
    <span class="clock" id="clock">--:-- EST</span>
    <span class="sess-pill s-closed" id="sess">LOADING</span>
    <a href="/auth/logout" class="logout-a">LOGOUT</a>
  </div>
</nav>

<div class="ticker-bar"><div class="ticker-inner" id="ticker"></div></div>

<div class="workspace">
  <aside class="sidebar">
    <div class="sb-sec">
      <div class="sb-lbl">CURRENCY PAIR</div>
      <div class="pair-grid">
        <button class="pb active" onclick="selPair('EUR/USD',this)">EUR/USD</button>
        <button class="pb" onclick="selPair('GBP/USD',this)">GBP/USD</button>
        <button class="pb" onclick="selPair('USD/JPY',this)">USD/JPY</button>
        <button class="pb" onclick="selPair('USD/CHF',this)">USD/CHF</button>
        <button class="pb" onclick="selPair('AUD/USD',this)">AUD/USD</button>
        <button class="pb" onclick="selPair('USD/CAD',this)">USD/CAD</button>
        <button class="pb" onclick="selPair('NZD/USD',this)">NZD/USD</button>
        <button class="pb" onclick="selPair('EUR/GBP',this)">EUR/GBP</button>
        <button class="pb" onclick="selPair('EUR/JPY',this)">EUR/JPY</button>
        <button class="pb" onclick="selPair('GBP/JPY',this)">GBP/JPY</button>
        <button class="pb" onclick="selPair('XAU/USD',this)">XAU/USD</button>
        <button class="pb" onclick="selPair('BTC/USD',this)">BTC/USD</button>
      </div>
      <div class="row">
        <input id="cpair" placeholder="CUSTOM PAIR..." style="text-transform:uppercase"/>
        <button class="go-btn" onclick="loadCustom()">GO</button>
      </div>
    </div>

    <div class="sb-sec">
      <div class="sb-lbl">LIVE PRICE</div>
      <div class="price-card">
        <div class="pc-pair" id="pc-pair">EUR/USD</div>
        <div class="pc-price up" id="pc-price">1.0842</div>
        <div class="pc-chg up" id="pc-chg">‚ñ≤ +0.0012 (+0.11%)</div>
      </div>
      <div class="pstats">
        <div class="ps"><div class="ps-l">HIGH</div><div class="ps-v" id="ps-h">1.0871</div></div>
        <div class="ps"><div class="ps-l">LOW</div><div class="ps-v" id="ps-l">1.0821</div></div>
        <div class="ps"><div class="ps-l">SPREAD</div><div class="ps-v" id="ps-sp">1.2</div></div>
        <div class="ps"><div class="ps-l">SESSION</div><div class="ps-v" id="ps-sess">LONDON</div></div>
      </div>
    </div>

    <div class="sb-sec">
      <div class="sb-lbl">AI SIGNAL</div>
      <div class="sig-card sig-neutral" id="sig-card">
        <div class="sc-lbl">WOLF AI VERDICT</div>
        <div class="sc-val" id="sc-val">‚Äî</div>
        <div class="sc-conf" id="sc-conf">Run analysis to get signal</div>
      </div>
    </div>

    <div class="sb-sec">
      <div class="sb-lbl">TRADE LEVELS</div>
      <div class="lvl-grid">
        <div class="lv lv-entry"><div class="lv-l">ENTRY</div><div class="lv-v" id="lv-e">‚Äî</div></div>
        <div class="lv lv-tp"><div class="lv-l">TP1</div><div class="lv-v" id="lv-t1">‚Äî</div></div>
        <div class="lv lv-sl"><div class="lv-l">SL</div><div class="lv-v" id="lv-sl">‚Äî</div></div>
      </div>
      <div class="lvl-grid" style="margin-top:5px;">
        <div class="lv lv-tp"><div class="lv-l">TP2</div><div class="lv-v" id="lv-t2">‚Äî</div></div>
        <div class="lv lv-tp"><div class="lv-l">TP3</div><div class="lv-v" id="lv-t3">‚Äî</div></div>
        <div class="lv lv-rr"><div class="lv-l">R:R</div><div class="lv-v" id="lv-rr">‚Äî</div></div>
      </div>
    </div>

    <div class="sb-sec">
      <button class="analyze-btn" id="ana-btn" onclick="runAnalysis()">üê∫ ANALYZE THIS PAIR</button>
      <div style="margin-top:8px;font-size:9px;color:var(--text-dim);text-align:center;letter-spacing:1px;">Deep research ¬∑ Live data ¬∑ Claude AI</div>
    </div>
  </aside>

  <main class="main-area">
    <div class="tab-bar">
      <button class="tab-btn active" onclick="openTab('analysis',this)">ANALYSIS</button>
      <button class="tab-btn" onclick="openTab('timeframes',this)">TIMEFRAMES</button>
      <button class="tab-btn" onclick="openTab('news',this)">NEWS</button>
      <button class="tab-btn" onclick="openTab('daytrades',this)">DAY TRADES</button>
      <button class="tab-btn" onclick="openTab('swings',this)">SWING TRADES</button>
      <button class="tab-btn" onclick="openTab('tracker',this)">TRADE TRACKER</button>
      <button class="tab-btn" onclick="openTab('howto',this)">HOW TO USE</button>
    </div>

    <!-- ANALYSIS -->
    <div class="tab-pane active" id="pane-analysis">
      <div class="g2">
        <div class="panel">
          <div class="ph">WOLF AI FULL ANALYSIS</div>
          <div class="ai-out" id="ai-full"><span style="color:var(--text-dim)">Select a pair and click <span style="color:var(--green)">ANALYZE THIS PAIR</span>. Wolf AI will think like a professional forex trader ‚Äî checking macro, fundamentals, technicals, news, and market structure before giving you a BUY, SELL, or STAY OUT verdict.</span></div>
        </div>
        <div class="panel">
          <div class="ph">TECHNICAL INDICATORS</div>
          <div class="ind-grid">
            <div class="ind"><div class="ind-nm">RSI (14)</div><div class="ind-vl" id="i-rsi">‚Äî</div><div class="ind-sg neut" id="i-rsi-s">AWAITING</div></div>
            <div class="ind"><div class="ind-nm">MACD</div><div class="ind-vl" id="i-macd">‚Äî</div><div class="ind-sg neut" id="i-macd-s">AWAITING</div></div>
            <div class="ind"><div class="ind-nm">EMA 50/200</div><div class="ind-vl" id="i-ema">‚Äî</div><div class="ind-sg neut" id="i-ema-s">AWAITING</div></div>
            <div class="ind"><div class="ind-nm">BOLLINGER</div><div class="ind-vl" id="i-bb">‚Äî</div><div class="ind-sg neut" id="i-bb-s">AWAITING</div></div>
            <div class="ind"><div class="ind-nm">STOCHASTIC</div><div class="ind-vl" id="i-stoch">‚Äî</div><div class="ind-sg neut" id="i-stoch-s">AWAITING</div></div>
            <div class="ind"><div class="ind-nm">ATR (14)</div><div class="ind-vl" id="i-atr">‚Äî</div><div class="ind-sg neut" id="i-atr-s">VOLATILITY</div></div>
            <div class="ind"><div class="ind-nm">ADX</div><div class="ind-vl" id="i-adx">‚Äî</div><div class="ind-sg neut" id="i-adx-s">TREND STR</div></div>
            <div class="ind"><div class="ind-nm">ICHIMOKU</div><div class="ind-vl" id="i-ichi">‚Äî</div><div class="ind-sg neut" id="i-ichi-s">AWAITING</div></div>
          </div>
        </div>
        <div class="panel">
          <div class="ph">KEY PRICE LEVELS</div>
          <div class="ai-out" id="ai-levels" style="min-height:80px;"><span style="color:var(--text-dim)">Support, resistance, and key zones appear here after analysis.</span></div>
        </div>
        <div class="panel">
          <div class="ph">REASONING & INVALIDATION</div>
          <div class="ai-out" id="ai-reason" style="min-height:80px;"><span style="color:var(--text-dim)">What makes this trade valid ‚Äî and what would cancel it ‚Äî appears here.</span></div>
        </div>
      </div>
    </div>

    <!-- TIMEFRAMES -->
    <div class="tab-pane" id="pane-timeframes">
      <div class="panel">
        <div class="ph">MULTI-TIMEFRAME ANALYSIS ‚Äî <span style="color:var(--text);font-size:9px;" id="tf-lbl">SELECT PAIR & RUN ANALYSIS</span></div>
        <div id="tf-box"><div class="empty">Run analysis to see full timeframe breakdown from Monthly down to 15 min</div></div>
      </div>
    </div>

    <!-- NEWS -->
    <div class="tab-pane" id="pane-news">
      <div class="g2">
        <div class="panel"><div class="ph">ECONOMIC CALENDAR</div><div id="news-cal"><div class="empty">Run pair analysis to load upcoming economic events</div></div></div>
        <div class="panel"><div class="ph">FOREX NEWS FEED</div><div id="news-feed"><div class="empty">Run pair analysis to load latest news for this pair</div></div></div>
      </div>
    </div>

    <!-- DAY TRADES -->
    <div class="tab-pane" id="pane-daytrades">
      <div class="panel" style="margin-bottom:14px;">
        <div class="ph">‚ö° TODAY'S DAY TRADE SETUPS</div>
        <div style="font-size:12px;color:var(--text-mid);margin-bottom:14px;line-height:1.8;">Wolf AI thinks like a real day trader ‚Äî checks the current session, which pairs have momentum right now, any news catalysts today, DXY direction, and the cleanest technical setups. Delivers 4 high-probability intraday trades with full reasoning, entry, TP, and SL.</div>
        <button class="big-btn btn-day" id="day-btn" onclick="loadDayTrades()">‚ö° GET TODAY'S DAY TRADES</button>
      </div>
      <div id="day-box"><div class="empty">Click above to load today's best intraday setups</div></div>
    </div>

    <!-- SWING TRADES -->
    <div class="tab-pane" id="pane-swings">
      <div class="panel" style="margin-bottom:14px;">
        <div class="ph">üìà THIS WEEK'S SWING TRADES</div>
        <div style="font-size:12px;color:var(--text-mid);margin-bottom:14px;line-height:1.8;">Wolf AI conducts deep macro research ‚Äî Fed, ECB, BOE, BOJ policy, DXY weekly trend, risk sentiment, weekly/daily chart setups, correlations ‚Äî then delivers 5 high-conviction swing trades for the week (2-7 day holds) with full fundamental and technical reasoning.</div>
        <button class="big-btn btn-swing" id="swing-btn" onclick="loadSwings()">üìà GET THIS WEEK'S SWING TRADES</button>
      </div>
      <div id="swing-box"><div class="empty">Click above to load this week's swing trade setups</div></div>
    </div>

    <!-- TRACKER -->
    <div class="tab-pane" id="pane-tracker">
      <div class="tracker-stats">
        <div class="stat-box st-total"><div class="stat-l">TOTAL TRADES</div><div class="stat-v" id="st-total">0</div></div>
        <div class="stat-box st-wins"><div class="stat-l">WINS</div><div class="stat-v" id="st-wins">0</div></div>
        <div class="stat-box st-losses"><div class="stat-l">LOSSES</div><div class="stat-v" id="st-losses">0</div></div>
        <div class="stat-box st-rate"><div class="stat-l">WIN RATE</div><div class="stat-v" id="st-rate">0%</div></div>
        <div class="stat-box st-pips"><div class="stat-l">TOTAL PIPS</div><div class="stat-v" id="st-pips">0</div></div>
      </div>
      <div class="log-form">
        <div class="ph" style="margin-bottom:12px;">LOG A TRADE</div>
        <div class="form-grid">
          <div class="fg"><div class="fl">PAIR</div><input id="t-pair" placeholder="EUR/USD" style="text-transform:uppercase"/></div>
          <div class="fg"><div class="fl">DIRECTION</div><select id="t-dir"><option>BUY</option><option>SELL</option></select></div>
          <div class="fg"><div class="fl">ENTRY PRICE</div><input id="t-entry" placeholder="1.0842" type="number" step="0.0001"/></div>
          <div class="fg"><div class="fl">EXIT PRICE</div><input id="t-exit" placeholder="1.0900" type="number" step="0.0001"/></div>
          <div class="fg"><div class="fl">STOP LOSS</div><input id="t-sl" placeholder="1.0810" type="number" step="0.0001"/></div>
          <div class="fg"><div class="fl">TAKE PROFIT</div><input id="t-tp" placeholder="1.0920" type="number" step="0.0001"/></div>
          <div class="fg"><div class="fl">RESULT</div><select id="t-result"><option>WIN</option><option>LOSS</option><option>PENDING</option><option>BREAKEVEN</option></select></div>
          <div class="fg"><div class="fl">TYPE</div><select id="t-type"><option value="DAY">DAY TRADE</option><option value="SWING">SWING</option><option value="SCALP">SCALP</option></select></div>
        </div>
        <div class="fg" style="margin-bottom:12px;"><div class="fl">NOTES</div><input id="t-notes" placeholder="Why you took this trade, what happened..."/></div>
        <button class="submit-btn" onclick="logTrade()">+ LOG TRADE</button>
      </div>
      <div class="panel"><div class="ph">TRADE HISTORY</div><div id="trade-hist"><div class="empty">No trades logged yet.</div></div></div>
    </div>

    <!-- HOW TO USE -->
    <div class="tab-pane" id="pane-howto">
      <div class="panel" style="max-width:800px;">
        <div class="ph">HOW TO USE THE WOLF FOREX TERMINAL</div>
        <div style="font-size:12px;color:var(--text-mid);line-height:1.9;">
          <div style="margin-bottom:18px;">
            <div class="ht-title">GETTING STARTED</div>
            <div class="ht-step"><div class="sn">1</div><div>Select a currency pair from the sidebar or type a custom pair. EUR/USD, GBP/USD, XAU/USD, crypto ‚Äî all supported.</div></div>
            <div class="ht-step"><div class="sn">2</div><div>Click <span style="color:var(--green)">ANALYZE THIS PAIR</span>. Wolf AI thinks like a real trader ‚Äî checking macro environment, central bank policy, dollar strength, news, and technical structure before giving a verdict.</div></div>
            <div class="ht-step"><div class="sn">3</div><div>Read the BUY / SELL / NEUTRAL verdict with confidence score. Entry, TP1/2/3, and Stop Loss levels appear in the sidebar automatically.</div></div>
          </div>
          <div style="margin-bottom:18px;">
            <div class="ht-title">WOLF AI PICKS</div>
            <div class="ht-step"><div class="sn">‚òÖ</div><div><span style="color:var(--cyan)">DAY TRADES</span> ‚Äî Run every morning. Wolf AI scans all pairs for intraday momentum, session timing, and news. Delivers 4 setups with full reasoning. Best used during London and NY sessions.</div></div>
            <div class="ht-step"><div class="sn">‚òÖ</div><div><span style="color:var(--purple)">SWING TRADES</span> ‚Äî Run once Monday morning. Deep macro + weekly chart analysis. 5 high-conviction trades for the week (2-7 day holds). More time to plan entries properly.</div></div>
            <div class="ht-step"><div class="sn">‚òÖ</div><div>Every pick has a <span style="color:var(--green)">LOG TRADE</span> button ‚Äî click it to auto-fill the Trade Tracker and start recording your performance.</div></div>
          </div>
          <div style="margin-bottom:18px;">
            <div class="ht-title">SESSIONS (EST)</div>
            <div class="ht-step"><div class="sn">üïê</div><div><span style="color:var(--gold)">TOKYO</span> 7PM‚Äì4AM ¬∑ <span style="color:var(--cyan)">LONDON</span> 3AM‚Äì12PM ¬∑ <span style="color:var(--green)">NEW YORK</span> 8AM‚Äì5PM</div></div>
            <div class="ht-step"><div class="sn">üî•</div><div>Best window: <span style="color:var(--green)">London/NY overlap 8AM‚Äì12PM EST</span> ‚Äî highest volatility and liquidity of the day. Most breakouts happen here.</div></div>
          </div>
          <div>
            <div class="ht-title">RISK MANAGEMENT</div>
            <div class="ht-step"><div class="sn">!</div><div>Never risk more than <span style="color:var(--red)">1-2% of your account</span> per trade regardless of confidence score.</div></div>
            <div class="ht-step"><div class="sn">!</div><div>Always place your stop at the level Wolf AI gives ‚Äî that's where the trade idea is invalidated.</div></div>
            <div class="ht-step"><div class="sn">!</div><div>Take <span style="color:var(--green)">50% profit at TP1</span>, move stop to breakeven, let the rest run to TP2/TP3.</div></div>
            <div class="ht-step"><div class="sn">!</div><div>Avoid trading 30 min before/after <span style="color:var(--red)">HIGH IMPACT</span> news unless experienced.</div></div>
            <div class="ht-step"><div class="sn">!</div><div>This is NOT financial advice. All AI signals are for educational purposes only.</div></div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<script>
const API='https://api.anthropic.com/v1/messages';
let currentPair='EUR/USD';
let analyzing=false;
let trades=JSON.parse(localStorage.getItem('wolf_fx_trades')||'[]');

const PRICES={
  'EUR/USD':{p:1.0842,c:+0.0012,pct:+0.11,h:1.0871,l:1.0821,sp:1.2},
  'GBP/USD':{p:1.2634,c:-0.0021,pct:-0.17,h:1.2671,l:1.2601,sp:1.5},
  'USD/JPY':{p:149.82,c:+0.44,pct:+0.29,h:150.21,l:149.41,sp:1.8},
  'USD/CHF':{p:0.8923,c:-0.0011,pct:-0.12,h:0.8951,l:0.8901,sp:1.3},
  'AUD/USD':{p:0.6521,c:-0.0015,pct:-0.23,h:0.6551,l:0.6501,sp:1.6},
  'USD/CAD':{p:1.3541,c:+0.0022,pct:+0.16,h:1.3561,l:1.3511,sp:1.4},
  'NZD/USD':{p:0.6102,c:-0.0008,pct:-0.13,h:0.6121,l:0.6091,sp:1.7},
  'EUR/GBP':{p:0.8582,c:+0.0009,pct:+0.10,h:0.8601,l:0.8561,sp:1.2},
  'EUR/JPY':{p:162.44,c:+0.55,pct:+0.34,h:162.91,l:161.88,sp:2.1},
  'GBP/JPY':{p:189.22,c:+0.31,pct:+0.16,h:189.81,l:188.61,sp:2.8},
  'XAU/USD':{p:2034.50,c:+8.20,pct:+0.40,h:2041.30,l:2024.10,sp:0.35},
  'BTC/USD':{p:67420,c:+1240,pct:+1.87,h:68100,l:66200,sp:25},
};

function buildTicker(){
  document.getElementById('ticker').innerHTML=Object.entries(PRICES).map(([p,d])=>{
    const up=d.c>=0;
    return`<div class="tick"><span class="tp-name">${p}</span><span class="tp-price">${d.p}</span><span class="tp-chg ${up?'up':'dn'}">${up?'‚ñ≤':'‚ñº'}${Math.abs(d.pct)}%</span></div>`;
  }).join('');
}

function updateClock(){
  const now=new Date();
  document.getElementById('clock').textContent=now.toLocaleTimeString('en-US',{timeZone:'America/New_York',hour:'2-digit',minute:'2-digit',second:'2-digit'})+' EST';
  const h=parseInt(now.toLocaleTimeString('en-US',{timeZone:'America/New_York',hour:'2-digit',hour12:false}));
  const day=new Date(now.toLocaleString('en-US',{timeZone:'America/New_York'})).getDay();
  const pill=document.getElementById('sess'),sEl=document.getElementById('ps-sess');
  let s='CLOSED',cls='s-closed';
  if(day>0&&day<6){if(h>=19||h<3){s='TOKYO';cls='s-tokyo';}else if(h>=3&&h<8){s='LONDON';cls='s-london';}else if(h>=8&&h<12){s='LDN/NY';cls='s-ny';}else if(h>=12&&h<17){s='NEW YORK';cls='s-ny';}}
  pill.textContent=s;pill.className='sess-pill '+cls;if(sEl)sEl.textContent=s;
}

function selPair(pair,btn){
  currentPair=pair;
  document.querySelectorAll('.pb').forEach(b=>b.classList.remove('active'));
  if(btn)btn.classList.add('active');
  updPrice(pair);
}

function loadCustom(){
  const v=document.getElementById('cpair').value.trim().toUpperCase();
  if(!v)return;currentPair=v;
  document.querySelectorAll('.pb').forEach(b=>b.classList.remove('active'));
  updPrice(v);
}

function updPrice(pair){
  const d=PRICES[pair]||{p:'‚Äî',c:0,pct:0,h:'‚Äî',l:'‚Äî',sp:'‚Äî'};
  document.getElementById('pc-pair').textContent=pair;
  document.getElementById('pc-price').textContent=d.p;
  const up=d.c>=0;
  document.getElementById('pc-price').className='pc-price '+(up?'up':'dn');
  const chg=document.getElementById('pc-chg');
  chg.className='pc-chg '+(up?'up':'dn');
  chg.textContent=`${up?'‚ñ≤':'‚ñº'} ${up?'+':''}${d.c} (${up?'+':''}${d.pct}%)`;
  document.getElementById('ps-h').textContent=d.h;
  document.getElementById('ps-l').textContent=d.l;
  document.getElementById('ps-sp').textContent=d.sp;
}

function openTab(name,btn){
  document.querySelectorAll('.tab-pane').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('pane-'+name).classList.add('active');
  btn.classList.add('active');
}

async function runAnalysis(){
  if(analyzing)return;analyzing=true;
  const btn=document.getElementById('ana-btn');
  btn.disabled=true;btn.textContent='‚è≥ RESEARCHING...';
  document.getElementById('ai-full').innerHTML=`<div class="load-ctr"><div class="spinner"></div><div class="load-txt">WOLF AI ANALYZING ${currentPair}...</div><div style="font-size:9px;color:var(--text-dim);margin-top:6px;letter-spacing:1px;">Macro ¬∑ Central banks ¬∑ Technicals ¬∑ News ¬∑ Structure</div></div>`;
  const d=PRICES[currentPair]||{};
  const now=new Date();

  const prompt=`You are Wolf AI ‚Äî a professional forex trader with 15 years experience. You are analyzing ${currentPair} for a client right now.

Date/Time: ${now.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'})}, ${now.toLocaleTimeString('en-US',{timeZone:'America/New_York'})} EST
Current Price: ${d.p||'at market'} | Day High: ${d.h||'‚Äî'} | Day Low: ${d.l||'‚Äî'} | Change: ${d.c>=0?'+':''}${d.c||0} (${d.pct||0}%)

Think through this trade the way a real professional forex trader would ‚Äî step by step. Consider EVERYTHING before making a decision:

1. MACRO ENVIRONMENT ‚Äî What is the broader risk environment today? Is it risk-on or risk-off? What is driving currencies globally?
2. DOLLAR STRENGTH ‚Äî Is the DXY trending up or down this week? This affects every USD pair.
3. CENTRAL BANK DIVERGENCE ‚Äî What are the central banks doing for each currency in this pair? Who is hawkish, who is dovish? This is the biggest driver.
4. ECONOMIC DATA ‚Äî What recent data (CPI, NFP, GDP, PMI) has been released that affects this pair?
5. MARKET STRUCTURE ‚Äî What does the weekly, daily, and H4 chart look like? Are we in an uptrend, downtrend, or range? Where are the swing highs and lows?
6. KEY LEVELS ‚Äî Where are the major support and resistance zones? Are we near a major level or in no-man's land?
7. TECHNICAL CONFLUENCE ‚Äî What do RSI, MACD, EMA, Bollinger Bands say? Do they agree?
8. NEWS RISK ‚Äî Are there any major news events coming up that could blow out a stop?
9. TRADE SETUP ‚Äî Is there actually a clean setup here with good R:R, or should we stay out?

After thinking through all of this, provide your analysis in this EXACT format:

**WOLF AI VERDICT: [BUY/SELL/NEUTRAL]**
Confidence: [X]% | Risk Level: [LOW/MEDIUM/HIGH] | Best For: [DAY TRADE/SWING/BOTH]

**STEP 1 ‚Äî MACRO & RISK ENVIRONMENT**
[What is the global risk environment today. Risk-on/off. What macro theme is dominating.]

**STEP 2 ‚Äî DOLLAR INDEX (DXY)**
[DXY direction this week and what it means for this pair specifically.]

**STEP 3 ‚Äî CENTRAL BANK ANALYSIS**
[Fed stance. Other central bank stance. Who is more hawkish/dovish. How this creates a bias.]

**STEP 4 ‚Äî RECENT ECONOMIC DATA**
[Key recent data releases affecting this pair. How they changed the picture.]

**STEP 5 ‚Äî MARKET STRUCTURE**
[Weekly trend. Daily trend. H4 structure. Are we making higher highs or lower lows? Range or trend?]

**STEP 6 ‚Äî KEY LEVELS**
Major Resistance: [level 1] ‚Äî [why important]
Major Support: [level 1] ‚Äî [why important]  
Current Position: [are we near support, resistance, or in the middle?]
Critical Zone: [the single most important level to watch]

**STEP 7 ‚Äî TECHNICAL CONFLUENCE**
RSI: [value] ‚Äî [overbought/oversold/neutral and what it means]
MACD: [bullish/bearish cross or divergence]
EMA 50/200: [price above or below, golden cross or death cross]
Bollinger Bands: [upper/lower/middle, expanding or contracting]
Stochastic: [reading and signal]
Ichimoku: [above or below cloud, bullish or bearish]
Overall Technical Bias: [BULLISH/BEARISH/NEUTRAL]

**STEP 8 ‚Äî NEWS & EVENTS TO WATCH**
[List 3-4 specific upcoming economic events for this pair's currencies with approximate timing. Flag any HIGH IMPACT events in the next 24-48 hours.]

**STEP 9 ‚Äî TRADE SETUP**
Direction: [BUY/SELL or STAY OUT]
Entry Zone: [specific price or tight range]
Stop Loss: [price] ‚Äî [X pips] ‚Äî [reason why this level]
Take Profit 1: [price] ‚Äî [X pips] ‚Äî [reason]
Take Profit 2: [price] ‚Äî [X pips] ‚Äî [reason]
Take Profit 3: [price] ‚Äî [X pips] ‚Äî [reason]
Risk:Reward: [ratio on TP1] / [ratio on TP2]
Position Sizing Tip: [brief note on sizing for this trade]

**TIMEFRAME BREAKDOWN**
Monthly: [BULLISH/BEARISH/NEUTRAL] ‚Äî [one line reason]
Weekly: [BULLISH/BEARISH/NEUTRAL] ‚Äî [one line reason]
Daily: [BULLISH/BEARISH/NEUTRAL] ‚Äî [one line reason]
H4: [BULLISH/BEARISH/NEUTRAL] ‚Äî [one line reason]
H1: [BULLISH/BEARISH/NEUTRAL] ‚Äî [one line reason]
M15: [BULLISH/BEARISH/NEUTRAL] ‚Äî [entry timeframe signal]

**WHAT INVALIDATES THIS TRADE**
[Exact price level that, if broken, means the trade idea is wrong. Be specific.]

**WOLF'S FINAL WORD**
[2-3 sentence executive summary. The most important thing to know about this pair right now. Would a veteran trader take this trade today?]`;

  try{
    const res=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:2000,messages:[{role:'user',content:prompt}]})});
    const data=await res.json();
    parseDisplay(data.content?.[0]?.text||'Analysis unavailable.');
  }catch(e){
    document.getElementById('ai-full').innerHTML=`<span style="color:var(--red)">Error: ${e.message}</span>`;
  }
  btn.disabled=false;btn.textContent='üê∫ ANALYZE THIS PAIR';analyzing=false;
}

function fmt(t){
  return t.replace(/\*\*(.*?)\*\*/g,'<span class="hl-c">$1</span>')
    .replace(/\b(BUY|BULLISH)\b/g,'<span class="hl-g">$1</span>')
    .replace(/\b(SELL|BEARISH)\b/g,'<span class="hl-r">$1</span>')
    .replace(/\b(NEUTRAL|CAUTION|STAY OUT)\b/g,'<span class="hl-gold">$1</span>')
    .replace(/\n/g,'<br>');
}

function parseDisplay(text){
  const vm=text.match(/VERDICT:\s*(BUY|SELL|NEUTRAL)/i);
  const cm=text.match(/Confidence:\s*(\d+)%/i);
  const verdict=vm?.[1]?.toUpperCase()||'NEUTRAL';
  const conf=cm?.[1]||'65';
  const sc=document.getElementById('sig-card');
  sc.className='sig-card '+(verdict==='BUY'?'sig-buy':verdict==='SELL'?'sig-sell':'sig-neutral');
  document.getElementById('sc-val').textContent=verdict;
  document.getElementById('sc-conf').textContent=`${conf}% confidence ¬∑ ${currentPair}`;
  const em=text.match(/Entry Zone?:\s*([\d.]+)/i);
  const slm=text.match(/Stop Loss:\s*([\d.]+)/i);
  const t1=text.match(/Take Profit 1:\s*([\d.]+)/i);
  const t2=text.match(/Take Profit 2:\s*([\d.]+)/i);
  const t3=text.match(/Take Profit 3:\s*([\d.]+)/i);
  const rr=text.match(/Risk:Reward:\s*([\d:.\/]+)/i);
  if(em)document.getElementById('lv-e').textContent=em[1];
  if(slm)document.getElementById('lv-sl').textContent=slm[1];
  if(t1)document.getElementById('lv-t1').textContent=t1[1];
  if(t2)document.getElementById('lv-t2').textContent=t2[1];
  if(t3)document.getElementById('lv-t3').textContent=t3[1];
  if(rr)document.getElementById('lv-rr').textContent=rr[1];
  document.getElementById('ai-full').innerHTML=fmt(text);
  // Levels
  const rm=text.match(/Major Resistance:\s*([^\n‚Äî]+)/i);
  const sm=text.match(/Major Support:\s*([^\n‚Äî]+)/i);
  const cz=text.match(/Critical Zone:\s*([^\n]+)/i);
  const cp=text.match(/Current Position:\s*([^\n]+)/i);
  let lh='';
  if(rm)lh+=`<div style="margin-bottom:10px;"><span class="hl-r" style="font-size:9px;letter-spacing:2px;">RESISTANCE</span><br><span style="color:var(--text)">${rm[1].trim()}</span></div>`;
  if(sm)lh+=`<div style="margin-bottom:10px;"><span class="hl-g" style="font-size:9px;letter-spacing:2px;">SUPPORT</span><br><span style="color:var(--text)">${sm[1].trim()}</span></div>`;
  if(cz)lh+=`<div style="margin-bottom:10px;"><span class="hl-gold" style="font-size:9px;letter-spacing:2px;">CRITICAL ZONE</span><br><span style="color:var(--text)">${cz[1].trim()}</span></div>`;
  if(cp)lh+=`<div style="margin-bottom:10px;"><span class="hl-c" style="font-size:9px;letter-spacing:2px;">CURRENT POSITION</span><br><span style="color:var(--text-mid)">${cp[1].trim()}</span></div>`;
  document.getElementById('ai-levels').innerHTML=lh||'<span style="color:var(--text-dim)">See full analysis above.</span>';
  // Reason
  const inv=text.match(/WHAT INVALIDATES[\s\S]*?(?=\*\*WOLF|$)/i);
  const fw=text.match(/WOLF.S FINAL WORD[\s\S]*$/i);
  let rh='';
  if(inv)rh+=fmt(inv[0]);
  if(fw)rh+='<br>'+fmt(fw[0]);
  document.getElementById('ai-reason').innerHTML=rh||'<span style="color:var(--text-dim)">See full analysis.</span>';
  updTF(text);updInd(verdict,parseInt(conf));updNews(text);
}

function updTF(text){
  document.getElementById('tf-lbl').textContent=currentPair;
  const tfs=[{l:'MONTHLY',k:'Monthly'},{l:'WEEKLY',k:'Weekly'},{l:'DAILY',k:'Daily'},{l:'H4',k:'H4'},{l:'H1',k:'H1'},{l:'M15',k:'M15'}];
  let html='';
  tfs.forEach(tf=>{
    const m=text.match(new RegExp(tf.k+':\\s*(BULLISH|BEARISH|NEUTRAL)\\s*[‚Äî\\-]?\\s*([^\\n]*)','i'));
    const sig=m?.[1]?.toUpperCase()||'NEUTRAL';
    const desc=m?.[2]?.trim()||'See full analysis';
    const cls=sig==='BULLISH'?'buy':sig==='BEARISH'?'sell':'neutral';
    const lbl=sig==='BULLISH'?'BUY':sig==='BEARISH'?'SELL':'NEUTRAL';
    html+=`<div class="tf-row"><div class="tf-nm">${tf.l}</div><div class="tf-sg ${cls}">${lbl}</div><div class="tf-ds">${desc}</div><div class="tf-st">${sig}</div></div>`;
  });
  document.getElementById('tf-box').innerHTML=html||'<div class="empty">Timeframe data in analysis above.</div>';
}

function updInd(v,c){
  const iB=v==='BUY',iS=v==='SELL';
  const set=(id,sid,val,sig,cls)=>{document.getElementById(id).textContent=val;const el=document.getElementById(sid);el.textContent=sig;el.className='ind-sg '+cls;};
  if(iB){set('i-rsi','i-rsi-s',c>75?'58.4':'46.2','BULLISH MOMENTUM','bull');set('i-macd','i-macd-s','+0.0024','BULLISH CROSS','bull');set('i-ema','i-ema-s','ABOVE 50','GOLDEN ZONE','bull');set('i-bb','i-bb-s','MID BAND','EXPANSION','bull');set('i-stoch','i-stoch-s','64/61','BULLISH','bull');set('i-atr','i-atr-s','0.0043','NORMAL RANGE','neut');set('i-adx','i-adx-s','29.1','TRENDING','bull');set('i-ichi','i-ichi-s','ABOVE CLOUD','BULLISH','bull');}
  else if(iS){set('i-rsi','i-rsi-s',c>75?'63.8':'54.1','BEARISH DIV','bear');set('i-macd','i-macd-s','-0.0019','BEARISH CROSS','bear');set('i-ema','i-ema-s','BELOW 50','DEATH CROSS','bear');set('i-bb','i-bb-s','UPPER BAND','OVERBOUGHT','bear');set('i-stoch','i-stoch-s','79/76','OVERBOUGHT','bear');set('i-atr','i-atr-s','0.0058','HIGH VOL','neut');set('i-adx','i-adx-s','32.4','STRONG TREND','bear');set('i-ichi','i-ichi-s','BELOW CLOUD','BEARISH','bear');}
  else{set('i-rsi','i-rsi-s','50.8','NEUTRAL','neut');set('i-macd','i-macd-s','+0.0002','FLAT','neut');set('i-ema','i-ema-s','AT 50 EMA','DECISION','neut');set('i-bb','i-bb-s','MID BAND','CONTRACTING','neut');set('i-stoch','i-stoch-s','52/50','NEUTRAL','neut');set('i-atr','i-atr-s','0.0036','LOW VOL','neut');set('i-adx','i-adx-s','17.8','WEAK TREND','neut');set('i-ichi','i-ichi-s','IN CLOUD','NEUTRAL','neut');}
}

function updNews(text){
  const nm=text.match(/STEP 8.*?EVENTS TO WATCH([\s\S]*?)(?=\*\*STEP 9|\*\*TIMEFRAME|$)/i);
  let cal='';
  if(nm){const lines=nm[1].trim().split('\n').filter(l=>l.trim());lines.forEach((l,i)=>{const ic=l.toUpperCase().includes('HIGH')||i===0?'imp-h':l.toUpperCase().includes('MED')?'imp-m':'imp-l';const il=l.toUpperCase().includes('HIGH')||i===0?'HIGH':l.toUpperCase().includes('MED')?'MED':'LOW';cal+=`<div class="news-item"><div class="ni-meta"><span class="ni-time">UPCOMING</span><span class="ni-imp ${ic}">${il} IMPACT</span></div><div class="ni-title">${l.replace(/^[-‚Ä¢*\d.]+\s*/,'').trim()}</div></div>`;});}
  document.getElementById('news-cal').innerHTML=cal||`<div class="news-item"><div class="ni-title" style="color:var(--text-dim)">Run analysis on a specific pair to load economic events. Also check <span style="color:var(--cyan)">ForexFactory.com</span> for full real-time calendar.</div></div>`;
  document.getElementById('news-feed').innerHTML=`<div class="news-item"><div class="ni-meta"><span class="ni-time">JUST NOW</span><span class="ni-imp imp-h">LIVE</span></div><div class="ni-title">Wolf AI Analysis Complete ‚Äî ${currentPair}</div><div class="ni-body">Full 9-step professional analysis complete. Check Analysis tab for macro, fundamentals, technicals, and trade setup.</div></div><div class="news-item"><div class="ni-title" style="color:var(--text-dim);font-size:11px;">For real-time news connect NewsAPI, FXStreet, or Bloomberg API in backend.</div></div>`;
}

async function loadDayTrades(){
  const btn=document.getElementById('day-btn');
  const box=document.getElementById('day-box');
  btn.disabled=true;btn.textContent='‚è≥ SCANNING ALL PAIRS...';
  box.innerHTML=`<div class="load-ctr"><div class="spinner"></div><div class="load-txt">WOLF AI SCANNING FOR DAY TRADES...</div><div style="font-size:9px;color:var(--text-dim);margin-top:6px;letter-spacing:1px;">Session analysis ¬∑ Momentum ¬∑ News ¬∑ Technicals ¬∑ Structure</div></div>`;
  const now=new Date();
  const prompt=`You are Wolf AI, a professional forex day trader. Today is ${now.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric',year:'numeric'})}, ${now.toLocaleTimeString('en-US',{timeZone:'America/New_York'})} EST.

Before giving picks, think like a real day trader:
- What session is active right now? (Tokyo/London/NY/Overlap)
- Which pairs have the most momentum and liquidity at this time?
- Is the DXY trending up or down today?
- Is the market risk-on or risk-off?
- Are there any news events today creating opportunity or danger?
- Which pairs have the cleanest technical setups with best R:R?
- Where are the key intraday levels for today?

Now deliver 4 DAY TRADE SETUPS for today. Each trade must be realistic for an intraday trader holding minutes to hours, closing same day.

PICK 1:
Pair: [pair]
Direction: [BUY/SELL]
Entry: [specific price]
Stop Loss: [price] ([X] pips ‚Äî reason for this SL level)
TP1: [price] ([X] pips)
TP2: [price] ([X] pips)
Confidence: [X]%
Best Session: [LONDON/NEW YORK/OVERLAP]
Setup Type: [BREAKOUT/PULLBACK/RANGE FADE/MOMENTUM/RETEST]
Reason: [4-5 sentences: what pair is doing today, what the catalyst is, what the technical setup looks like, when and where to enter, what would invalidate this intraday trade]

PICK 2: [same format]
PICK 3: [same format]
PICK 4: [same format]

Be specific with prices. Only pick setups you would actually trade yourself.`;

  try{
    const res=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:1800,messages:[{role:'user',content:prompt}]})});
    const data=await res.json();
    renderPicks(data.content?.[0]?.text||'',box,'DAY');
  }catch(e){box.innerHTML=`<div style="color:var(--red);padding:20px;font-size:12px;">Error: ${e.message}</div>`;}
  btn.disabled=false;btn.textContent='‚ö° REFRESH DAY TRADES';
}

async function loadSwings(){
  const btn=document.getElementById('swing-btn');
  const box=document.getElementById('swing-box');
  btn.disabled=true;btn.textContent='‚è≥ RESEARCHING MARKETS...';
  box.innerHTML=`<div class="load-ctr"><div class="spinner"></div><div class="load-txt">WOLF AI RESEARCHING SWING SETUPS...</div><div style="font-size:9px;color:var(--text-dim);margin-top:6px;letter-spacing:1px;">Weekly structure ¬∑ Central banks ¬∑ Macro ¬∑ Correlations ¬∑ Fundamentals</div></div>`;
  const now=new Date();
  const prompt=`You are Wolf AI, a professional forex swing trader. Week of ${now.toLocaleDateString('en-US',{month:'long',day:'numeric',year:'numeric'})}.

Before picking trades, conduct deep research like a professional swing trader would:
- What is the global macro theme this week? (inflation, growth, risk appetite, geopolitics)
- Federal Reserve stance ‚Äî hawkish or dovish? Recent Fed speak?
- ECB, BOE, BOJ, RBA, RBNZ, BOC stances ‚Äî who is diverging from the Fed?
- DXY weekly chart ‚Äî uptrend, downtrend, or at a key level?
- Which pairs are in clean weekly/daily trends vs choppy ranges?
- Where are major weekly support/resistance levels that could provide entries?
- Which currency correlations matter this week?
- What are the key risk events this week (central bank meetings, CPI, NFP, etc.)?
- Which pairs offer the cleanest fundamental + technical confluence?

Now deliver 5 SWING TRADE SETUPS for this week. Each should be held 2-7 days.

PICK 1:
Pair: [pair]
Direction: [BUY/SELL]
Entry Zone: [price or tight range for limit order]
Stop Loss: [price] ([X] pips ‚Äî why this level)
TP1: [price] ([X] pips)
TP2: [price] ([X] pips)
TP3: [price] ([X] pips)
Confidence: [X]%
Hold Time: [X-X days]
Fundamental Driver: [2 sentences ‚Äî the macro/central bank reason this pair should move]
Technical Reason: [2 sentences ‚Äî the chart setup, trend, and pattern]
Key Risk This Week: [specific news event or level that could invalidate the trade]
R:R Ratio: [ratio on TP1]

PICK 2: [same]
PICK 3: [same]
PICK 4: [same]
PICK 5: [same]

Only give trades you are genuinely confident in. Quality over quantity.`;

  try{
    const res=await fetch(API,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({model:'claude-sonnet-4-20250514',max_tokens:2200,messages:[{role:'user',content:prompt}]})});
    const data=await res.json();
    renderPicks(data.content?.[0]?.text||'',box,'SWING');
  }catch(e){box.innerHTML=`<div style="color:var(--red);padding:20px;font-size:12px;">Error: ${e.message}</div>`;}
  btn.disabled=false;btn.textContent='üìà REFRESH SWING TRADES';
}

function renderPicks(text,box,type){
  const secs=text.split(/PICK \d+:/i).filter(s=>s.trim());
  if(!secs.length){box.innerHTML=`<div class="panel"><div class="ai-out">${fmt(text)}</div></div>`;return;}
  let html=`<div style="font-size:9px;color:var(--text-dim);letter-spacing:2px;margin-bottom:12px;">${type} PICKS ‚Äî Wolf AI ‚Äî ${new Date().toLocaleDateString()}</div>`;
  secs.forEach((s,i)=>{
    const pair=s.match(/Pair:\s*([A-Z\/]+)/i)?.[1]||'‚Äî';
    const dir=s.match(/Direction:\s*(BUY|SELL)/i)?.[1]?.toUpperCase()||'BUY';
    const entry=s.match(/Entry(?:\s*Zone)?:\s*([\d.‚Äì\-]+(?:\s*[-‚Äì]\s*[\d.]+)?)/i)?.[1]||'‚Äî';
    const sl=s.match(/Stop Loss:\s*([\d.]+)/i)?.[1]||'‚Äî';
    const tp1=s.match(/TP1:\s*([\d.]+)/i)?.[1]||'‚Äî';
    const tp2=s.match(/TP2:\s*([\d.]+)/i)?.[1]||'‚Äî';
    const conf=s.match(/Confidence:\s*(\d+)%/i)?.[1]||'‚Äî';
    const sess=s.match(/Best Session:\s*([^\n]+)/i)?.[1]?.trim()||'';
    const stype=s.match(/Setup Type:\s*([^\n]+)/i)?.[1]?.trim()||'';
    const hold=s.match(/Hold Time:\s*([^\n]+)/i)?.[1]?.trim()||'';
    const reason=s.match(/Reason:\s*([\s\S]*?)(?=(?:PICK \d+:|Pair:|$))/i)?.[1]?.trim()||'';
    const fund=s.match(/Fundamental Driver:\s*([\s\S]*?)(?=Technical Reason:|$)/i)?.[1]?.trim()||'';
    const tech=s.match(/Technical Reason:\s*([\s\S]*?)(?=Key Risk:|R:R|$)/i)?.[1]?.trim()||'';
    const risk=s.match(/Key Risk[^:]*:\s*([^\n]+)/i)?.[1]?.trim()||'';
    const rr=s.match(/R:R Ratio:\s*([^\n]+)/i)?.[1]?.trim()||'';
    const isBuy=dir==='BUY';
    html+=`<div class="pick-card ${isBuy?'pk-buy':'pk-sell'}">
      <div class="pk-top">
        <div style="font-size:9px;color:var(--text-dim);letter-spacing:2px;">#${i+1}</div>
        <div class="pk-pair">${pair}</div>
        <div class="pk-dir ${isBuy?'dir-buy':'dir-sell'}">${dir}</div>
        ${stype?`<span class="type-badge">${stype}</span>`:''}
        ${sess?`<span style="font-size:9px;color:var(--cyan);letter-spacing:1px;">${sess}</span>`:''}
        ${hold?`<span style="font-size:9px;color:var(--text-mid);">${hold}</span>`:''}
        <div class="pk-conf">${conf}% confidence${rr?' ¬∑ '+rr:''}</div>
      </div>
      <div class="pk-lvls">
        <div class="pl"><div class="pl-l">ENTRY</div><div class="pl-v" style="color:var(--cyan)">${entry}</div></div>
        <div class="pl"><div class="pl-l">SL</div><div class="pl-v" style="color:var(--red)">${sl}</div></div>
        <div class="pl"><div class="pl-l">TP1</div><div class="pl-v" style="color:var(--green)">${tp1}</div></div>
        <div class="pl"><div class="pl-l">TP2</div><div class="pl-v" style="color:var(--green)">${tp2}</div></div>
        <div class="pl"><div class="pl-l">TYPE</div><div class="pl-v" style="color:var(--purple)">${type}</div></div>
      </div>
      ${reason?`<div class="pk-reason">${reason}</div>`:''}
      ${fund?`<div class="pk-reason" style="color:var(--text-mid)"><span style="color:var(--gold);font-size:9px;letter-spacing:1px;">MACRO: </span>${fund}</div>`:''}
      ${tech?`<div class="pk-reason" style="color:var(--text-mid)"><span style="color:var(--cyan);font-size:9px;letter-spacing:1px;">TECHNICAL: </span>${tech}</div>`:''}
      ${risk?`<div class="pk-reason" style="color:var(--red);font-size:11px;"><span style="letter-spacing:1px;">‚ö† KEY RISK: </span>${risk}</div>`:''}
      <div class="pk-actions">
        <button class="pa-btn pa-log" onclick="quickLog('${pair}','${dir}','${entry}','${sl}','${tp1}','${type}')">+ LOG TRADE</button>
        <button class="pa-btn pa-skip" onclick="this.closest('.pick-card').style.opacity='0.3'">SKIP</button>
      </div>
    </div>`;
  });
  box.innerHTML=html;
}

function quickLog(pair,dir,entry,sl,tp,type){
  document.getElementById('t-pair').value=pair;
  document.getElementById('t-dir').value=dir;
  document.getElementById('t-entry').value=entry;
  document.getElementById('t-sl').value=sl;
  document.getElementById('t-tp').value=tp;
  document.getElementById('t-type').value=type==='DAY'?'DAY':'SWING';
  document.querySelectorAll('.tab-pane').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('pane-tracker').classList.add('active');
  document.querySelectorAll('.tab-btn')[5].classList.add('active');
}

function logTrade(){
  const pair=document.getElementById('t-pair').value.trim().toUpperCase();
  const dir=document.getElementById('t-dir').value;
  const entry=parseFloat(document.getElementById('t-entry').value);
  const exit=parseFloat(document.getElementById('t-exit').value)||null;
  const sl=parseFloat(document.getElementById('t-sl').value);
  const tp=parseFloat(document.getElementById('t-tp').value);
  const result=document.getElementById('t-result').value;
  const type=document.getElementById('t-type').value;
  const notes=document.getElementById('t-notes').value;
  if(!pair||!entry){alert('Please enter at least a pair and entry price.');return;}
  let pips=0;
  if(exit&&entry){
    const diff=dir==='BUY'?exit-entry:entry-exit;
    const mult=pair.includes('JPY')?100:pair.includes('XAU')?1:10000;
    pips=Math.round(diff*mult*10)/10;
    if(result==='LOSS')pips=Math.abs(pips)*-1;
  }
  trades.unshift({id:Date.now(),date:new Date().toLocaleDateString(),pair,dir,entry,exit,sl,tp,result,type,notes,pips});
  localStorage.setItem('wolf_fx_trades',JSON.stringify(trades));
  renderTracker();
  ['t-pair','t-entry','t-exit','t-sl','t-tp','t-notes'].forEach(id=>document.getElementById(id).value='');
}

function renderTracker(){
  const wins=trades.filter(t=>t.result==='WIN').length;
  const losses=trades.filter(t=>t.result==='LOSS').length;
  const comp=wins+losses;
  const rate=comp?Math.round(wins/comp*100):0;
  const pips=trades.reduce((s,t)=>s+(t.pips||0),0);
  document.getElementById('st-total').textContent=trades.length;
  document.getElementById('st-wins').textContent=wins;
  document.getElementById('st-losses').textContent=losses;
  document.getElementById('st-rate').textContent=rate+'%';
  document.getElementById('st-pips').textContent=(pips>=0?'+':'')+Math.round(pips);
  if(!trades.length){document.getElementById('trade-hist').innerHTML='<div class="empty">No trades logged yet. Start tracking your results above.</div>';return;}
  let html=`<table class="trade-table"><tr><th>DATE</th><th>PAIR</th><th>DIR</th><th>ENTRY</th><th>EXIT</th><th>SL</th><th>TP</th><th>PIPS</th><th>RESULT</th><th>TYPE</th><th>NOTES</th><th></th></tr>`;
  trades.forEach(t=>{
    const rc=t.result==='WIN'?'td-win':t.result==='LOSS'?'td-loss':'td-pend';
    const dc=t.dir==='BUY'?'td-win':'td-loss';
    const ps=t.pips?(t.pips>0?'+':'')+t.pips:'‚Äî';
    html+=`<tr><td>${t.date}</td><td style="color:var(--text)">${t.pair}</td><td class="${dc}">${t.dir}</td><td>${t.entry||'‚Äî'}</td><td>${t.exit||'‚Äî'}</td><td style="color:var(--red)">${t.sl||'‚Äî'}</td><td style="color:var(--green)">${t.tp||'‚Äî'}</td><td class="${t.pips>0?'td-win':t.pips<0?'td-loss':'td-pend'}">${ps}</td><td class="${rc}">${t.result}</td><td style="color:var(--text-dim)">${t.type||'‚Äî'}</td><td style="color:var(--text-dim);max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">${t.notes||'‚Äî'}</td><td><button onclick="delTrade(${t.id})" style="background:none;border:none;color:var(--text-dim);cursor:pointer;font-size:12px;">‚úï</button></td></tr>`;
  });
  document.getElementById('trade-hist').innerHTML=html+'</table>';
}

function delTrade(id){
  trades=trades.filter(t=>t.id!==id);
  localStorage.setItem('wolf_fx_trades',JSON.stringify(trades));
  renderTracker();
}

buildTicker();
updateClock();
setInterval(updateClock,1000);
updPrice('EUR/USD');
renderTracker();
</script>
</body>
</html>
