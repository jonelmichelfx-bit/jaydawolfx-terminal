<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JAYDAWOLFX ‚Äî AI Stock Scanner</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: #0f0f1a; --surface: #1a1a2e; --surface2: #1e1e30;
      --border: #2e2e48; --accent: #00ffaa; --accent2: #7c3aed;
      --red: #ff4757; --gold: #ffd700; --blue: #3b82f6;
      --text: #f0f0ff; --text-dim: #9090b8; --font: 'Courier New', monospace;
    }
    body { background: var(--bg); color: var(--text); font-family: var(--font); min-height: 100vh; padding: 24px; }
    body::before {
      content: ''; position: fixed; inset: 0;
      background-image: linear-gradient(rgba(0,255,136,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,255,136,0.03) 1px, transparent 1px);
      background-size: 40px 40px; pointer-events: none; z-index: 0;
    }
    .container { position: relative; z-index: 1; max-width: 1100px; margin: 0 auto; }
    .header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 28px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
    .header-left { display: flex; align-items: center; gap: 14px; }
    .header-icon { font-size: 36px; filter: drop-shadow(0 0 10px rgba(0,255,136,0.5)); }
    .header-title { font-size: 22px; font-weight: bold; color: var(--accent); letter-spacing: 3px; text-shadow: 0 0 20px rgba(0,255,136,0.3); }
    .header-sub { font-size: 11px; color: var(--text-dim); letter-spacing: 2px; margin-top: 3px; }
    .back-btn { background: transparent; border: 1px solid var(--border); color: var(--text-dim); padding: 9px 18px; border-radius: 4px; font-family: var(--font); font-size: 12px; cursor: pointer; letter-spacing: 1px; text-decoration: none; transition: all 0.2s; }
    .back-btn:hover { border-color: var(--accent); color: var(--accent); }
    .pro-badge { display: inline-flex; align-items: center; gap: 8px; background: rgba(124,58,237,0.12); border: 1px solid rgba(124,58,237,0.3); border-radius: 20px; padding: 5px 14px; font-size: 11px; color: #a78bfa; letter-spacing: 1px; margin-bottom: 22px; }
    .search-section { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 26px; margin-bottom: 26px; position: relative; }
    .search-section::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, var(--accent2), transparent); border-radius: 10px 10px 0 0; }
    .search-label { font-size: 11px; color: var(--text-dim); letter-spacing: 2px; margin-bottom: 12px; }
    .search-row { display: flex; gap: 10px; flex-wrap: wrap; }
    .search-input { flex: 1; min-width: 200px; padding: 13px 16px; background: var(--surface2); border: 1px solid var(--border); border-radius: 5px; color: var(--text); font-family: var(--font); font-size: 14px; outline: none; transition: border-color 0.2s; }
    .search-input:focus { border-color: var(--accent2); }
    .search-input::placeholder { color: var(--text-dim); }
    .btn { padding: 13px 22px; border: none; border-radius: 5px; font-family: var(--font); font-size: 12px; font-weight: bold; letter-spacing: 2px; cursor: pointer; transition: all 0.2s; white-space: nowrap; }
    .btn-search { background: var(--accent2); color: white; }
    .btn-search:hover { background: #6d28d9; box-shadow: 0 0 20px rgba(124,58,237,0.3); }
    .btn-daily { background: var(--accent); color: #000; }
    .btn-daily:hover { background: #00dd77; box-shadow: 0 0 20px rgba(0,255,136,0.4); }
    .btn:disabled { opacity: 0.4; cursor: not-allowed; }
    .theme-suggestions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 14px; }
    .theme-tag { background: var(--surface2); border: 1px solid var(--border); border-radius: 20px; padding: 5px 14px; font-size: 11px; color: var(--text-dim); cursor: pointer; transition: all 0.2s; letter-spacing: 1px; }
    .theme-tag:hover { border-color: var(--accent2); color: #a78bfa; background: rgba(124,58,237,0.08); }
    .results-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 18px; }
    .results-title { font-size: 13px; color: var(--accent); letter-spacing: 2px; }
    .results-date { font-size: 11px; color: var(--text-dim); }
    .stocks-grid { display: flex; flex-direction: column; gap: 18px; }
    .stock-card { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; padding: 22px 26px; position: relative; overflow: hidden; transition: transform 0.2s, border-color 0.2s; }
    .stock-card:hover { transform: translateX(5px); border-color: rgba(0,255,136,0.25); }
    .left-bar { position: absolute; left: 0; top: 0; bottom: 0; width: 4px; border-radius: 10px 0 0 10px; }
    .stock-top { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 14px; }
    .stock-left { display: flex; align-items: center; gap: 16px; }
    .rank-num { font-size: 28px; min-width: 40px; }
    .stock-ticker { font-size: 26px; font-weight: bold; color: var(--accent); letter-spacing: 2px; }
    .stock-company { font-size: 13px; color: var(--text); margin-bottom: 6px; }
    .stock-tags { display: flex; gap: 6px; flex-wrap: wrap; }
    .tag { display: inline-block; border-radius: 20px; padding: 3px 11px; font-size: 10px; letter-spacing: 1px; }
    .tag-theme { background: rgba(124,58,237,0.15); border: 1px solid rgba(124,58,237,0.25); color: #a78bfa; }
    .tag-type { background: rgba(0,255,136,0.08); border: 1px solid rgba(0,255,136,0.2); color: var(--accent); }
    .tag-buy { background: rgba(0,255,136,0.15); border: 1px solid rgba(0,255,136,0.4); color: var(--accent); font-weight: bold; }
    .tag-hold { background: rgba(255,215,0,0.1); border: 1px solid rgba(255,215,0,0.3); color: var(--gold); }
    .stock-right { flex-shrink: 0; }
    .score-circle { width: 60px; height: 60px; border-radius: 50%; border: 2px solid; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    .score-number { font-size: 20px; font-weight: bold; line-height: 1; }
    .score-label { font-size: 8px; color: var(--text-dim); letter-spacing: 1px; }
    .stock-why { font-size: 13px; color: var(--text); line-height: 1.8; margin-bottom: 14px; padding: 12px 14px; background: var(--surface2); border-radius: 6px; border-left: 3px solid var(--accent2); }
    .info-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 14px; }
    .info-box { background: var(--surface2); border-radius: 6px; padding: 11px 13px; font-size: 12px; }
    .info-box-label { color: var(--text-dim); font-size: 10px; letter-spacing: 1px; margin-bottom: 5px; }
    .info-box-value { color: var(--text); line-height: 1.5; }
    .info-box.catalyst { border-left: 2px solid var(--gold); }
    .info-box.risk { border-left: 2px solid var(--red); }
    .info-box.target { border-left: 2px solid var(--accent); }
    .info-box.entry { border-left: 2px solid var(--accent2); }
    .stock-footer { display: flex; align-items: center; justify-content: space-between; margin-top: 14px; padding-top: 14px; border-top: 1px solid var(--border); }
    .timeframe { font-size: 11px; color: var(--text-dim); }
    .timeframe span { color: var(--text); }
    .action-badge { border-radius: 5px; padding: 7px 16px; font-size: 12px; font-weight: bold; letter-spacing: 2px; }
    .loading { text-align: center; padding: 70px 20px; color: var(--text-dim); }
    .loading-wolf { font-size: 44px; animation: bounce 1s ease-in-out infinite; margin-bottom: 18px; }
    @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }
    .loading-text { font-size: 14px; letter-spacing: 2px; color: var(--accent); margin-bottom: 8px; }
    .loading-sub { font-size: 12px; color: var(--text-dim); margin-bottom: 20px; }
    .loading-bar { width: 220px; height: 2px; background: var(--border); margin: 0 auto; border-radius: 2px; overflow: hidden; }
    .loading-bar-fill { height: 100%; background: var(--accent); animation: load 1.5s ease-in-out infinite; }
    @keyframes load { 0%{width:0;margin-left:0} 50%{width:100%;margin-left:0} 100%{width:0;margin-left:100%} }
    .empty-state { text-align: center; padding: 70px 20px; }
    .empty-icon { font-size: 52px; margin-bottom: 18px; }
    .empty-text { font-size: 13px; color: var(--text-dim); letter-spacing: 1px; line-height: 2.2; }
    .alert { padding: 13px 16px; border-radius: 6px; font-size: 13px; margin-bottom: 20px; }
    .alert.error { background: rgba(255,71,87,0.1); border: 1px solid rgba(255,71,87,0.3); color: var(--red); }
    .disclaimer { margin-top: 26px; padding: 13px 18px; background: var(--surface); border: 1px solid var(--border); border-radius: 6px; font-size: 11px; color: var(--text-dim); text-align: center; line-height: 1.7; }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="header-left">
      <div class="header-icon">ü§ñ</div>
      <div>
        <div class="header-title">AI STOCK SCANNER</div>
        <div class="header-sub">POWERED BY CLAUDE AI ‚Äî PRO EXCLUSIVE</div>
      </div>
    </div>
    <a href="/" class="back-btn">‚Üê TERMINAL</a>
  </div>

  <div class="pro-badge">üê∫ PRO EXCLUSIVE ‚Äî Real-time AI Market Intelligence + Buy Signals</div>

  <div class="search-section">
    <div class="search-label">SCAN BY THEME, SECTOR, OR TREND</div>
    <div class="search-row">
      <input type="text" class="search-input" id="theme-input" placeholder="e.g. AI infrastructure, clean energy, defense, biotech..." maxlength="100"/>
      <button class="btn btn-search" id="search-btn" onclick="searchTheme()">üîç SCAN THEME</button>
      <button class="btn btn-daily" id="daily-btn" onclick="loadDailyScan()">üì° TODAY'S TOP PICKS</button>
    </div>
    <div class="theme-suggestions">
      <span class="theme-tag" onclick="quickSearch('Artificial Intelligence & Data Centers')">ü§ñ AI & Data Centers</span>
      <span class="theme-tag" onclick="quickSearch('Clean Energy & Solar power')">‚ö° Clean Energy</span>
      <span class="theme-tag" onclick="quickSearch('Defense & Military spending increase')">üõ° Defense</span>
      <span class="theme-tag" onclick="quickSearch('Biotech & FDA drug approvals')">üß¨ Biotech</span>
      <span class="theme-tag" onclick="quickSearch('Semiconductor chips & AI hardware')">üíæ Semiconductors</span>
      <span class="theme-tag" onclick="quickSearch('Space & Satellite technology')">üöÄ Space</span>
      <span class="theme-tag" onclick="quickSearch('Cybersecurity & AI threats')">üîê Cybersecurity</span>
      <span class="theme-tag" onclick="quickSearch('Crypto & Blockchain infrastructure')">‚Çø Crypto Plays</span>
      <span class="theme-tag" onclick="quickSearch('Humanoid robots & Factory automation')">ü¶æ Robotics</span>
      <span class="theme-tag" onclick="quickSearch('Nuclear energy & Power grid')">‚ò¢Ô∏è Nuclear Energy</span>
    </div>
  </div>

  <div id="alert" class="alert error" style="display:none"></div>

  <div class="results-header" id="results-header" style="display:none">
    <div class="results-title" id="results-title">TOP PICKS</div>
    <div class="results-date" id="results-date"></div>
  </div>

  <div id="stocks-container">
    <div class="empty-state">
      <div class="empty-icon">üê∫</div>
      <div class="empty-text">
        CLICK "TODAY'S TOP PICKS" FOR AI-POWERED DAILY BUY SIGNALS<br/>
        OR SEARCH ANY THEME TO FIND THE BEST STOCKS TO BUY NOW
      </div>
    </div>
  </div>

  <div class="disclaimer" id="disclaimer" style="display:none">
    ‚ö†Ô∏è AI analysis is for informational purposes only. Not financial advice. Always do your own research. Past performance does not guarantee future results.
  </div>
</div>

<script>
const TODAY = new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });

window.onload = () => {
  document.getElementById('theme-input').addEventListener('keydown', e => { if (e.key === 'Enter') searchTheme(); });
};

function quickSearch(theme) {
  document.getElementById('theme-input').value = theme;
  searchTheme();
}

function setLoading(v) {
  document.getElementById('search-btn').disabled = v;
  document.getElementById('daily-btn').disabled = v;
}

async function loadDailyScan() {
  showLoading("SCANNING TODAY'S MARKETS...", "Claude AI is analyzing global trends and finding the best buy opportunities");
  clearAlert(); setLoading(true);

  const prompt = `You are an elite hedge fund stock analyst. Today is ${TODAY}.

Find the TOP 5 best stocks to BUY RIGHT NOW. Consider:
- AI boom and infrastructure buildout
- Energy transition and nuclear renaissance
- Defense spending increases globally
- Upcoming earnings catalysts
- Undervalued second-derivative plays most traders are missing
- Macro environment (rates, dollar, commodities)

For each stock give a COMPLETE buy thesis with specific price target and entry strategy.

Respond ONLY with a JSON array (no markdown, no extra text):
[{"ticker":"","company":"","score":90,"action":"STRONG BUY","theme":"","type":"1st Derivative","why":"","catalyst":"","price_target":"$X by Month Year","entry":"Buy at $X-$X range","risk":"","timeframe":""}]`;

  await runAI(prompt, "TODAY'S TOP 5 BUY SIGNALS üê∫");
}

async function searchTheme() {
  const theme = document.getElementById('theme-input').value.trim();
  if (!theme) { showAlert('Enter a theme to search.'); return; }
  showLoading(`SCANNING "${theme.toUpperCase()}"...`, "Claude AI is finding the best stocks for this theme");
  clearAlert(); setLoading(true);

  const prompt = `You are an elite stock analyst. Today is ${TODAY}.

Find TOP 5 best stocks to BUY for the theme: "${theme}"

Include both direct plays AND second-derivative winners (indirect beneficiaries most traders miss).
Give complete buy thesis with price targets and entry points.

Respond ONLY with JSON array (no markdown):
[{"ticker":"","company":"","score":90,"action":"STRONG BUY","theme":"${theme}","type":"1st Derivative","why":"","catalyst":"","price_target":"$X by Month Year","entry":"Buy at $X-$X range","risk":"","timeframe":""}]`;

  await runAI(prompt, `TOP PICKS: ${theme.toUpperCase()}`);
}

async function runAI(prompt, title) {
  try {
    const res = await fetch('/scanner/analyze', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt })
    });
    const data = await res.json();
    if (!res.ok) { showAlert(data.error || 'AI scan failed. Try again.'); showEmpty(); setLoading(false); return; }
    renderStocks(data.stocks, title, TODAY);
    setLoading(false);
  } catch(e) {
    showAlert('Error: ' + e.message + '. Please try again.');
    showEmpty(); setLoading(false);
  }
}

function renderStocks(stocks, title, date) {
  document.getElementById('results-header').style.display = 'flex';
  document.getElementById('results-title').textContent = title;
  document.getElementById('results-date').textContent = date;
  document.getElementById('disclaimer').style.display = 'block';

  const container = document.getElementById('stocks-container');
  const grid = document.createElement('div');
  grid.className = 'stocks-grid';
  container.innerHTML = '';

  stocks.forEach((s, i) => {
    const rankEmoji = ['ü•á','ü•à','ü•â','#4','#5'][i] || '#' + (i+1);
    const barColor = i===0?'#ffd700':i===1?'#c0c0c0':i===2?'#cd7f32':'#00ff88';
    const scoreColor = s.score>=85?'#00ff88':s.score>=70?'#ffd700':'#ff6b6b';
    const isBuy = s.action && s.action.includes('BUY');
    const actionStyle = isBuy
      ? 'background:rgba(0,255,136,0.15);border:1px solid rgba(0,255,136,0.4);color:#00ff88'
      : 'background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.3);color:#ffd700';

    const card = document.createElement('div');
    card.className = 'stock-card';
    card.innerHTML = `
      <div class="left-bar" style="background:${barColor}"></div>
      <div class="stock-top">
        <div class="stock-left">
          <div class="rank-num" style="color:${barColor}">${rankEmoji}</div>
          <div>
            <div class="stock-ticker">${s.ticker}</div>
            <div class="stock-company">${s.company}</div>
            <div class="stock-tags">
              <span class="tag tag-theme">${s.theme}</span>
              ${s.type?`<span class="tag tag-type">${s.type}</span>`:''}
            </div>
          </div>
        </div>
        <div class="stock-right">
          <div class="score-circle" style="border-color:${scoreColor}">
            <div class="score-number" style="color:${scoreColor}">${s.score}</div>
            <div class="score-label">SCORE</div>
          </div>
        </div>
      </div>
      <div class="stock-why">${s.why}</div>
      <div class="info-row">
        <div class="info-box catalyst"><div class="info-box-label">‚ö° CATALYST</div><div class="info-box-value">${s.catalyst}</div></div>
        <div class="info-box target"><div class="info-box-label">üéØ PRICE TARGET</div><div class="info-box-value">${s.price_target}</div></div>
        <div class="info-box entry"><div class="info-box-label">üìà ENTRY STRATEGY</div><div class="info-box-value">${s.entry}</div></div>
        <div class="info-box risk"><div class="info-box-label">‚ö† RISK</div><div class="info-box-value">${s.risk}</div></div>
      </div>
      <div class="stock-footer">
        <div class="timeframe">‚è± TIMEFRAME: <span>${s.timeframe}</span></div>
        <div class="action-badge" style="${actionStyle}">${s.action||'ANALYZE'}</div>
      </div>`;
    grid.appendChild(card);
  });
  container.appendChild(grid);
}

function showLoading(text, sub) {
  document.getElementById('results-header').style.display = 'none';
  document.getElementById('disclaimer').style.display = 'none';
  document.getElementById('stocks-container').innerHTML = `
    <div class="loading">
      <div class="loading-wolf">üê∫</div>
      <div class="loading-text">${text}</div>
      <div class="loading-sub">${sub}</div>
      <div class="loading-bar"><div class="loading-bar-fill"></div></div>
    </div>`;
}

function showEmpty() {
  document.getElementById('results-header').style.display = 'none';
  document.getElementById('stocks-container').innerHTML = `
    <div class="empty-state"><div class="empty-icon">üê∫</div>
    <div class="empty-text">NO RESULTS. TRY A DIFFERENT THEME OR TRY AGAIN.</div></div>`;
}

function showAlert(msg) { const e=document.getElementById('alert'); e.textContent=msg; e.style.display='block'; }
function clearAlert() { document.getElementById('alert').style.display='none'; }
</script>
</body>
</html>
